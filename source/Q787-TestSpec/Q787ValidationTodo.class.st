Class {
	#name : #Q787ValidationTodo,
	#superclass : #Q787ValidationTest,
	#category : #'Q787-TestSpec'
}

{ #category : #'as yet unclassified' }
Q787ValidationTodo class >> isAbstract [ 
	^ true
]

{ #category : #tests }
Q787ValidationTodo >> test1_1_2_5_1 [
	"TC addressing; Register address change page 49"
	self assert: false.
	self flag: #TBD.	
	"CHECK A: WAS THE CALLED ADDRESS IN THE SCCP MESSAGE HEADER FOR THE END THE SAME AS THE 
	                 CALLING ADDRESS IN THE SCCP MESSAGE HEADER FOR THE CONTINUE MESSAGE? "
	
	"Notes:
	
	service end point has #injectSCCP:
		--> need to generate UDT package for adress change."
]

{ #category : #tests }
Q787ValidationTodo >> test1_1_3_1_1_1s1 [
	"Encoding Variation Test: CP length encoding. Page 50"
	| env  endCalled  |
	env := self given: #shouldCreateTestEnvironment.
	env servicePointA onDialogue: [ :dialogue|
		dialogue 
			onBegin: [ 
				dialogue requestTcEnd: false ]].

	env servicePointB newDialogue
			onEnd: [ :end |
			endCalled := true];
		requestTcBeginDestinationAddress:  self destinationAddress
		originatingAddress:  self originatingAddress
		applicationContextName: self anyApplicationContextId. 
	
	self flag: #TBD.
		
	" CHECK A: WAS THE BEGIN MESSAGE CORRECTLY RECEIVED AT SP A AND PASSED TO THE TR-USER? "
	" CHECK B: WAS AN END MESSAGE CORRECTLY SENT BY SP A? "
	" CHECK C: WAS THE DTID IN THE END MESSAGE THE SAME AS THE OTID IN THE BEGIN MESSAGE? "
	" CHECK D: WERE TSL STATE MACHINES ASSOCIATED WITH THIS TRANSACTION LEFT IN THE IDLE STATE AT SP A?"
]

{ #category : #tests }
Q787ValidationTodo >> test1_1_3_1_1_1s2 [
	"Encoding Variation Test: CP length encoding. Page 52"
	self assert: false.
	self flag: #TBD.
	
	" CHECK A: WAS THE BEGIN MESSAGE CORRECTLY RECEIVED AT SP A AND PASSED TO THE TR-USER?"
	" CHECK B: WAS AN END MESSAGE CORRECTLY SENT BY SP A? "
	" CHECK C: WAS THE DTID IN THE END MESSAGE THE SAME AS THE OTID IN THE BE GIN MESSAGE? "
	" CHECK D: WERE TSL STATE MACHINES ASSOCIATED WITH THIS TRANSACTION LEFT IN THE IDLE STATE AT SP A?"
]

{ #category : #tests }
Q787ValidationTodo >> test1_1_3_1_1_2s1 [
	"Encoding Variation Test: CP length encoding. Page 54"
	self assert: false.
	self flag: #TBD.
	
	"CHECK A: WAS THE BEGIN MESSAGE CORRECTLY RECEIVED AT SP A AND PASSED TO THE TR-USER? "
	"CHECK B: WAS AN END MESSAGE CORRECTLY SENT BY SP A? "
	"CHECK C: WAS THE DTID IN THE END MESSAGE THE SAME AS THE OTID IN THE BEGIN MESSAGE? "
	"CHECK D: WERE TSL STATE MACHINES ASSOCIATED WITH THIS TRANSACTION LEFT IN THE IDLE STATE AT SP A?"
]

{ #category : #tests }
Q787ValidationTodo >> test1_1_3_1_1_3s1 [
	"Encoding Variation Test: CP length encoding. Page 56"
	self assert: false.
	self flag: #TBD.
	
	"CHECK A: WAS THE BEGIN MESSAGE CORRECTLY RECEIVED AT SP A AND PASSED TO THE TR-USER? "
	"CHECK B: WAS AN END MESSAGE CORRECTLY SENT BY SP A? "
	"CHECK C: WAS THE DTID IN THE END MESSAGE THE SAME AS THE OTID IN THE BEGIN MESSAGE? "
	"CHECK D: WERE TSL STATE MACHINES ASSOCIATED WITH THIS TRANSACTION LEFT IN THE IDLE STATE AT SP A?"
]

{ #category : #tests }
Q787ValidationTodo >> test1_2_1_5s2 [
	| env  abortCalled |
	"Abort message: P-Abort cause length incorrect. Page 71"
	"TODO:  modify the cause length of abort message"
	
	abortCalled := false.
	
	env := self given: #shouldCreateTestEnvironment.
	
	env servicePointB onDialogue: [ :dialogue|
		dialogue onBegin: [ 
			dialogue requestTcPAbort: TCAPDialoguePAbort unrecognizedTransactionID.
		 ] ].
	
	env servicePointB transactionCoordinator postProcessPayload: [ :bytes| | insp |
		insp := TCAPMessageInspector packet: bytes.
		self flag: #TBD. "here we need to modify the cause length"
		insp updatePacketFromEncodedValue; packet ].
	
	env servicePointA newDialogue
		onPAbort: [ abortCalled := true];
		requestTcBeginDestinationAddress:  self destinationAddress
		originatingAddress:  self originatingAddress
		applicationContextName: self anyApplicationContextId. 
	
	" CHECK A: WAS THE BEGIN MESSAGE CORRECTLY SENT FROM SP A? "
	self assert: env servicePointA didSendMessage.
	self checkBegin: env servicePointA sentPackets first.
	
	" CHECK B: VERIFY THAT NO MESSAGES ARE GENERATED BY SP A IN RESPONSE TO THE CORRUPTED ABORT MESSAGE. "
	self assert: env servicePointA sentPackets size = 1.
	
	" additional check: B received Begin message"
	self assert: env servicePointB didReceiveMessage.
	self checkBegin: env servicePointB receivedPackets first.

	"additional check: B received just one message"
	self assert: env servicePointB receivedPackets size = 1.
	
	" CHECK C: IF THE TR-ABORT IND. WAS SENT, WERE TSL STATE MACHINES ASSOCIATED WITH THIS TRANSACTION LEFT IN THE IDLE STATE AT SP A? "
	self assert: abortCalled. 
	self assert: env servicePointA isIdle.	
	
	


		
	

]

{ #category : #tests }
Q787ValidationTodo >> test1_2_2_1s1 [
	"Unidirectional Message Type: Unknown information element present. Page 73"
	self assert: false.
	self flag: #TBD.	
	
	" CHECK A: VERIFY THAT THE TR-USER WAS NOT INFORMED OF THE UNID IRECTIONAL MESSAGE AT SP A. "
	" CHECK B: VERIFY THAT NO MESSAGES WERE GENERATED IN RESPONSE TO THE UNIDIRECTIONAL MESSAGE. "
	" CHECK C: WERE TSL STATE MACHINES ASSOCIATED WITH THIS TRANSACTION LEFT IN THE IDLE STATE AT SP A? "

		
	
		

]

{ #category : #tests }
Q787ValidationTodo >> test2_1_3_1_2 [
	"Invoke linked components. Page 152"
	self flag: #TBD.
	self assert: false
	
	"CHECK A: WAS THE INVOKE COMPONENT WITH CORRECT INFORMATION PASSED TO TC-USER BY SP A? "
	"CHECK B: WAS THE REJECT COMPONENT WITH CORRECT INFORMATION PASSED TO TC-USER BY SP A? "
	"CHECK C: WAS THE INVOCATION STATE MACHINE IDLE AT SP A? "
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_4_1_2 [
	"Invoke linked components. Page 174"
	self flag: #TBD.
	self assert: false.
	
	"CHECK A: WAS THE INVOKE COMPONENT WITH CORRECT INFORMATION SENT BY SP A? "
	"CHECK B: WAS A LINKED INVOKE COMPONENT PASSED TO THE TC-USER BY SP A? "
	"CHECK C: WAS THE REJECT COMPONENT WITH CORRECT INFORMATION SENT BY SP A? "
	"CHECK D: WAS THE INVOKE ID IN THE REJECT COMPONENT THE SAME AS THE INVOKE ID IN THE INVOKE COMPONENT SENT BY SP B? "
	"CHECK E: WAS THE INVOCATION STATE MACHINE IDLE AT SP A?"
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_4_1_3 [
	"Invoke linked components. Page 177"
	self flag: #TBD.
	self assert: false.
	"CHECK A: WAS THE INVOKE COMPONENT WITH CORRECT INFORMATION SENT BY SP A? "
	"CHECK B: WAS A LINKED INVOKE COMPONENT PASSED TO THE TC-USER BY SP A? "
	"CHECK C: WAS THE REJECT COMPONENT SENT BY SP A? "
	"CHECK D: WAS THE RETURN RESULT-LAST COMPONENT WITH CORRECT INFORMATION PASSED TO TC-USER BY SP A? "
	"CHECK E: WAS THE INVOCATION STATE MACHINE IDLE AT SP A?"
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_4_3_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_4_3_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_7_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_7_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_7_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_7_4_1_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_7_4_1_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_7_4_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_8_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_8_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_8_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_9_5_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_9_7_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_1_9_7_4 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_1_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_1_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_1_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_1_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_2_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_2_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_2_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_3_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_3_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_4_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_4_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_5_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_5_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_5_4 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_5_5 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_5_6 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_5_7 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_2_5_8 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_3_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_3_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_2_3_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_1_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_2_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_2_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_2_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_2_4 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_3_1 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_3_2 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_3_3 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_3_4 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_3_5 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_3_6 [
		self assert: false
]

{ #category : #tests }
Q787ValidationTodo >> test2_3_4_4 [
		self assert: false
]
